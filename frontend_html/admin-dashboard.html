<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard | Sách Cũ Theo Khu Vực</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light bg-light shadow-sm">
      <div class="container-fluid">
        <span class="navbar-brand fw-bold">
          <img src="assets/images/logo.png" alt="Logo" height="32" />
          ADMIN DASHBOARD
        </span>

        <button class="btn btn-outline-danger" id="logoutBtn">
          <i class="bi bi-box-arrow-right"></i> Đăng xuất
        </button>
      </div>
    </nav>

    <!-- DASHBOARD CONTENT -->
    <section class="container py-5">
      <h3>Chào mừng <span id="adminName"></span>!</h3>
      <p>Đây là trang quản trị của hệ thống Sách Cũ Theo Khu Vực.</p>

      <!-- BUTTONS CHUYỂN TRANG -->
      <div class="mt-4 d-flex gap-2">
        <a href="admin-posts.html" class="btn btn-primary">
          <i class="bi bi-journal-text"></i> Quản lý bài đăng
        </a>

        <a href="admin-users.html" class="btn btn-secondary">
          <i class="bi bi-people-fill"></i> Quản lý người dùng
        </a>

        <a href="admin-categories.html" class="btn btn-success">
          <i class="bi bi-tags-fill"></i> Quản lý danh mục
        </a>

        <a href="admin-reports.html" class="btn btn-warning text-white">
          <i class="bi bi-flag-fill"></i> Báo cáo vi phạm
        </a>
      </div>

      <!-- EXTRA CONTENT (nếu bạn muốn thêm dashboard statistic sau này) -->
      <div class="mt-5" id="dashboardContent"></div>
    </section>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/api.js"></script>

    <script>
      // ================================
      // KIỂM TRA ADMIN LOGIN
      // ================================
      const user = JSON.parse(localStorage.getItem("user") || "{}");

      if (!user || user.role !== "ADMIN") {
        window.location.href = "loginAdmin.html";
      } else {
        document.getElementById("adminName").textContent = user.name || "Admin";
      }

      // ================================
      // LOGOUT
      // ================================
      document.getElementById("logoutBtn").addEventListener("click", () => {
        localStorage.removeItem("authToken");
        localStorage.removeItem("user");
        window.location.href = "loginAdmin.html";
      });
    </script>
  </body>
</html>
